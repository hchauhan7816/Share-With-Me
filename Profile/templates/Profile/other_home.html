{% extends 'base.html' %}
{% load static %}

{% block title %}
    Instagram
{% endblock title %} 

{% block body %}
    this is {{profile.first_name}} {{profile.last_name}} <br>
    username :: {{profile.username}}<br>
    bio :: {{profile.bio}}<br>
    following :: {{profile.count_following}}<br>
    followers :: {{ profile.user.following_in_model.all.count }}

    

    <img src='{{profile.profile_pic.url}}'  class = "im">

    <form action="{% url 'Profile:follow_url' %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="profile_id" value="{{ profile.pk }}">
        {% if following %}
            <button type="submit">Unfollow</button>
        {% else %}
            <button type="submit">Follow</button>
        {% endif %}
    </form>

    <div class="ui three column grid">     
        {% for post in profile.author_post_model.all %}
            <div class="column">
                <div class="uis">
                    <div class="image" style="background-image:url('{{ post.picture.url }}');"></div>
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock body %}


{% block style %}
    .im {
        width: 200px;
        height: 200px;
        border-radius: 50%;
    }

    .image {
        background-size: cover;
        background-position: center;
        width: 356px;
        height: 293px;
        float: left;
    }

    .uis{
        margin: 0 0 0 0;
    }
{% endblock style %}